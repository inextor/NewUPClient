<div class="container mt-5">
  @if (role_list.length > 0 && cecommerce_item_list.length === 0) {
    <!-- Show all roles when no role is selected -->
    <h2 class="app-page-title">Perfiles</h2>
    <div class="roles-grid">
      @for (role of role_list; track role.id) {
        <div class="role-card" [routerLink]="['/']" [queryParams]="{role_id: role.id}">
          <div class="role-icon">
            @if (role.image_id) {
              <img [src]="role.image_id | image" [alt]="role.name" class="role-image">
            } @else {
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="8" r="4"/>
                <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
              </svg>
            }
          </div>
          <div class="role-name">{{ role.name }}</div>
        </div>
      }
    </div>
  }

  @if (role_list.length > 0 && cecommerce_item_list.length > 0) {
    <!-- Show selected role and its items -->
    <app-item-catalog [items]="cecommerce_item_list" [title]="role_list[0].name"></app-item-catalog>

    <app-pagination
      [current_page]="current_page"
      [total_pages]="total_pages"
      [pages]="pages"
      [path]="path">
    </app-pagination>
  }

  @if (role_list.length === 0 && cecommerce_item_list.length === 0) {
    <div class="alert alert-info">
      No se encontraron perfiles ni art√≠culos.
    </div>
  }
</div>
